# VM user name
vm_user: metal

# VM user plain text password (not hash)
vm_user_plain_text_password: metal

# Directory for files generated by the demo automation
working_dir: "{{ lookup('env', 'HOME') }}/metal3-demo-files"

# NOTE: this should be *your* (local user) SSH public key since *you*
# will be using it to login to the VMs. The SSH public keys listed
# here will be appended to the VM user's authorized_keys file.
public_key_file: "{{ lookup('env', 'HOME') }}/.ssh/id_ed25519.pub"
vm_authorized_ssh_keys:
 - "{{ lookup('file', public_key_file) }}"

# OS image
os_image_url: https://download.opensuse.org/distribution/leap-micro/6.0/appliances/openSUSE-Leap-Micro.x86_64-Default.raw.xz
os_image_checksum: sha256:https://download.opensuse.org/distribution/leap-micro/6.0/appliances/openSUSE-Leap-Micro.x86_64-Default.raw.xz.sha256

# Alternatively a local image e.g SLEMicro can be specified e.g
# export OS_LOCAL_IMAGE=/home/foo/SLE-Micro.x86_64-5.5.0-Default-GM.raw
os_local_image: "{{ lookup('env', 'OS_LOCAL_IMAGE') }}"

os_image_name: "{{ os_local_image | basename if os_local_image else os_image_url | basename | splitext | first }}"

metal3_vm_libvirt_network_params: '--network bridge=m3-external,model=virtio'

external_network_cidr_v4: 192.168.125.0/24
external_network_cidr_v6: fd55::/64
external_network_bridge_ip: "{{ external_network_cidr_v4|ansible.utils.nthhost(1)|default('', true) }}"
external_network_bridge_ip_v6: "{{ external_network_cidr_v6|ansible.utils.nthhost(1)|default('', true) }}"
management_cluster_public_ip: "{{ external_network_cidr_v4|ansible.utils.nthhost(99)|default('', true) }}"
management_cluster_public_ip_v6: "{{ external_network_cidr_v6|ansible.utils.nthhost(99)|default('', true) }}"
